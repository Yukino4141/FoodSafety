# é£Ÿå®‰å«å£« V1.0 æ¥å£æ–‡æ¡£

## ğŸ“‹ æ–‡æ¡£è¯´æ˜

### åŸºç¡€ä¿¡æ¯
- **APIåŸºç¡€è·¯å¾„**: `http://localhost:8080`
- **æ•°æ®æ ¼å¼**: `application/json`
- **å­—ç¬¦ç¼–ç **: `UTF-8`

### ç»Ÿä¸€å“åº”æ ¼å¼
```json
{
  "code": 1,           // 1:æˆåŠŸ 0:å¤±è´¥
  "msg": "success",    // æç¤ºä¿¡æ¯
  "data": {}           // ä¸šåŠ¡æ•°æ®(å¯ä¸ºnull)
}
```

### é‰´æƒè¯´æ˜
- **ç®¡ç†ç«¯**: è¯·æ±‚å¤´ `token: <JWTä»¤ç‰Œ>`
- **ç”¨æˆ·ç«¯**: è¯·æ±‚å¤´ `authentication: <JWTä»¤ç‰Œ>`
- **æ— éœ€é‰´æƒ**: ç™»å½•æ¥å£

---

## ğŸ”µ ç®¡ç†ç«¯æ¥å£

### 1. ç®¡ç†å‘˜ç™»å½•

#### æ¥å£ä¿¡æ¯
- **è·¯å¾„**: `/admin/employee/login`
- **æ–¹æ³•**: `POST`
- **é‰´æƒ**: æ— éœ€é‰´æƒ

#### è¯·æ±‚å‚æ•°
```json
{
  "username": "admin",
  "password": "123456"
}
```

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| username | String | æ˜¯ | ç”¨æˆ·å |
| password | String | æ˜¯ | å¯†ç (æ˜æ–‡) |

#### å“åº”ç¤ºä¾‹ - æˆåŠŸ
```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "id": 1,
    "userName": "admin",
    "name": "è¶…çº§ç®¡ç†å‘˜",
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  }
}
```

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | Long | å‘˜å·¥ID |
| userName | String | ç”¨æˆ·å |
| name | String | å§“å |
| token | String | JWTä»¤ç‰Œ(åç»­è¯·æ±‚éœ€æºå¸¦) |

#### å“åº”ç¤ºä¾‹ - å¤±è´¥
```json
{
  "code": 0,
  "msg": "è´¦å·ä¸å­˜åœ¨",
  "data": null
}
```

```json
{
  "code": 0,
  "msg": "å¯†ç é”™è¯¯",
  "data": null
}
```

```json
{
  "code": 0,
  "msg": "è´¦å·å·²é”å®š",
  "data": null
}
```

#### å¤‡æ³¨
- å¯†ç éœ€MD5åŠ å¯†åå­˜å‚¨åœ¨æ•°æ®åº“
- ç™»å½•æˆåŠŸåè¿”å›çš„tokenæœ‰æ•ˆæœŸä¸º2å°æ—¶
- åˆå§‹ç®¡ç†å‘˜è´¦å·: `admin` / `123456`

---

### 2. å•†å“æ–°å¢

#### æ¥å£ä¿¡æ¯
- **è·¯å¾„**: `/admin/product`
- **æ–¹æ³•**: `POST`
- **é‰´æƒ**: éœ€è¦ç®¡ç†ç«¯Token

#### è¯·æ±‚å¤´
```
token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

#### è¯·æ±‚å‚æ•°
```json
{
  "barcode": "6901028075831",
  "name": "è’™ç‰›çº¯ç‰›å¥¶",
  "image": "https://food-safety.oss-cn-hangzhou.aliyuncs.com/product/milk.jpg",
  "jsonIngredients": "ç”Ÿç‰›ä¹³,ç»´ç”Ÿç´ D"
}
```

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| barcode | String | æ˜¯ | å•†å“æ¡å½¢ç (å”¯ä¸€) |
| name | String | æ˜¯ | å•†å“åç§° |
| image | String | å¦ | å•†å“å›¾ç‰‡URL |
| jsonIngredients | String | æ˜¯ | é…æ–™è¡¨(é€—å·åˆ†éš”) |

#### å“åº”ç¤ºä¾‹ - æˆåŠŸ
```json
{
  "code": 1,
  "msg": "success",
  "data": null
}
```

#### å“åº”ç¤ºä¾‹ - å¤±è´¥
```json
{
  "code": 0,
  "msg": "6901028075831 å·²å­˜åœ¨",
  "data": null
}
```

#### å¤‡æ³¨
- ç³»ç»Ÿè‡ªåŠ¨æ£€æµ‹é…æ–™è¡¨ä¸­çš„é£é™©æˆåˆ†
- é»‘åå•: ä»£å¯å¯è„‚ã€åå¼è„‚è‚ªé…¸ã€è‹¯ç”²é…¸é’ ã€å±±æ¢¨é…¸é’¾ã€äººå·¥è‰²ç´ ã€é˜¿æ–¯å·´ç”œã€å®‰èµ›èœœ
- åŒ¹é…åˆ°é£é™©æˆåˆ†: `riskLevel=1`, ç”Ÿæˆ`riskMsg`
- æœªåŒ¹é…: `riskLevel=0`
- `createTime`å’Œ`updateTime`è‡ªåŠ¨ç”Ÿæˆ
- `createUser`ä»Tokenä¸­è·å–

---

### 3. å•†å“åˆ†é¡µæŸ¥è¯¢

#### æ¥å£ä¿¡æ¯
- **è·¯å¾„**: `/admin/product/page`
- **æ–¹æ³•**: `GET`
- **é‰´æƒ**: éœ€è¦ç®¡ç†ç«¯Token

#### è¯·æ±‚å¤´
```
token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

#### è¯·æ±‚å‚æ•°
```
GET /admin/product/page?page=1&pageSize=10&name=é¥¼å¹²&barcode=6920
```

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| page | Integer | æ˜¯ | é¡µç (ä»1å¼€å§‹) |
| pageSize | Integer | æ˜¯ | æ¯é¡µæ¡æ•°(å»ºè®®10) |
| name | String | å¦ | å•†å“åç§°(æ¨¡ç³Šæœç´¢) |
| barcode | String | å¦ | æ¡å½¢ç (ç²¾ç¡®æœç´¢) |

#### å“åº”ç¤ºä¾‹ - æˆåŠŸ
```json
{
  "code": 1,
  "msg": "success",
  "data": {
    "total": 125,
    "records": [
      {
        "id": 101,
        "barcode": "6901028075831",
        "name": "è’™ç‰›çº¯ç‰›å¥¶",
        "image": "https://food-safety.oss-cn-hangzhou.aliyuncs.com/product/milk.jpg",
        "jsonIngredients": "ç”Ÿç‰›ä¹³,ç»´ç”Ÿç´ D",
        "riskLevel": 0,
        "riskMsg": null,
        "createUser": 1,
        "createTime": "2023-12-18 10:00:00",
        "updateTime": "2023-12-18 10:00:00"
      },
      {
        "id": 102,
        "barcode": "692000001",
        "name": "æŸå“ç‰Œå¤¹å¿ƒé¥¼å¹²",
        "image": "https://food-safety.oss-cn-hangzhou.aliyuncs.com/product/cookie.jpg",
        "jsonIngredients": "å°éº¦ç²‰,ç™½ç ‚ç³–,ä»£å¯å¯è„‚",
        "riskLevel": 1,
        "riskMsg": "æ£€æµ‹åˆ°é£é™©æˆåˆ†ï¼šä»£å¯å¯è„‚",
        "createUser": 1,
        "createTime": "2023-12-18 11:00:00",
        "updateTime": "2023-12-18 11:00:00"
      }
    ]
  }
}
```

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| total | Integer | æ€»è®°å½•æ•° |
| records | Array | å½“å‰é¡µæ•°æ® |

#### å¤‡æ³¨
- æ”¯æŒæŒ‰åç§°æ¨¡ç³Šæœç´¢: `name LIKE '%é¥¼å¹²%'`
- æ”¯æŒæŒ‰æ¡å½¢ç ç²¾ç¡®æœç´¢: `barcode = '6920...'`
- é»˜è®¤æŒ‰`updateTime`é™åºæ’åˆ—

---

### 4. å•†å“ä¿®æ”¹

#### æ¥å£ä¿¡æ¯
- **è·¯å¾„**: `/admin/product`
- **æ–¹æ³•**: `PUT`
- **é‰´æƒ**: éœ€è¦ç®¡ç†ç«¯Token

#### è¯·æ±‚å¤´
```
token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

#### è¯·æ±‚å‚æ•°
```json
{
  "id": 101,
  "barcode": "6901028075831",
  "name": "è’™ç‰›çº¯ç‰›å¥¶(ä¿®æ­£)",
  "image": "https://food-safety.oss-cn-hangzhou.aliyuncs.com/product/milk_new.jpg",
  "jsonIngredients": "ç”Ÿç‰›ä¹³,ç»´ç”Ÿç´ D,ç»´ç”Ÿç´ A"
}
```

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| id | Long | æ˜¯ | å•†å“ID |
| barcode | String | å¦ | æ¡å½¢ç  |
| name | String | å¦ | å•†å“åç§° |
| image | String | å¦ | å•†å“å›¾ç‰‡ |
| jsonIngredients | String | å¦ | é…æ–™è¡¨ |

#### å“åº”ç¤ºä¾‹ - æˆåŠŸ
```json
{
  "code": 1,
  "msg": "success",
  "data": null
}
```

#### å“åº”ç¤ºä¾‹ - å¤±è´¥
```json
{
  "code": 0,
  "msg": "å•†å“ä¸å­˜åœ¨",
  "data": null
}
```

#### å¤‡æ³¨
- ä¿®æ”¹é…æ–™è¡¨æ—¶ä¼šé‡æ–°æ‰§è¡Œé»‘åå•æ£€æµ‹
- `updateTime`è‡ªåŠ¨æ›´æ–°ä¸ºå½“å‰æ—¶é—´
- åªä¼ éœ€è¦ä¿®æ”¹çš„å­—æ®µå³å¯

---

### 5. å•†å“åˆ é™¤

#### æ¥å£ä¿¡æ¯
- **è·¯å¾„**: `/admin/product`
- **æ–¹æ³•**: `DELETE`
- **é‰´æƒ**: éœ€è¦ç®¡ç†ç«¯Token

#### è¯·æ±‚å¤´
```
token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

#### è¯·æ±‚å‚æ•°
```
DELETE /admin/product?ids=1,2,3
```

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| ids | String | æ˜¯ | å•†å“ID(é€—å·åˆ†éš”ï¼Œæ”¯æŒæ‰¹é‡) |

#### å“åº”ç¤ºä¾‹ - æˆåŠŸ
```json
{
  "code": 1,
  "msg": "success",
  "data": null
}
```

#### å¤‡æ³¨
- æ”¯æŒæ‰¹é‡åˆ é™¤: `ids=1,2,3`
- ç‰©ç†åˆ é™¤(ç›´æ¥ä»æ•°æ®åº“åˆ é™¤è®°å½•)

---

### 6. æ–‡ä»¶ä¸Šä¼ 

#### æ¥å£ä¿¡æ¯
- **è·¯å¾„**: `/admin/common/upload`
- **æ–¹æ³•**: `POST`
- **é‰´æƒ**: éœ€è¦ç®¡ç†ç«¯Token
- **Content-Type**: `multipart/form-data`

#### è¯·æ±‚å¤´
```
token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
Content-Type: multipart/form-data
```

#### è¯·æ±‚å‚æ•°
- **FormDataå­—æ®µ**: `file`
- **æ–‡ä»¶ç±»å‹**: å›¾ç‰‡(jpgã€pngã€jpeg)
- **æ–‡ä»¶å¤§å°**: æœ€å¤§5MB

#### å“åº”ç¤ºä¾‹ - æˆåŠŸ
```json
{
  "code": 1,
  "msg": "success",
  "data": "https://food-safety.oss-cn-hangzhou.aliyuncs.com/2023/12/18/uuid-filename.jpg"
}
```

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| data | String | OSSå®Œæ•´URL |

#### å“åº”ç¤ºä¾‹ - å¤±è´¥
```json
{
  "code": 0,
  "msg": "æ–‡ä»¶ä¸Šä¼ å¤±è´¥",
  "data": null
}
```

#### å¤‡æ³¨
- æ–‡ä»¶åä½¿ç”¨UUIDé˜²æ­¢é‡å
- è‡ªåŠ¨ä¸Šä¼ è‡³é˜¿é‡Œäº‘OSS
- è¿”å›çš„URLå¯ç›´æ¥ç”¨äºå•†å“å›¾ç‰‡å­—æ®µ

---

## ğŸŸ¢ ç”¨æˆ·ç«¯æ¥å£

### 1. å¾®ä¿¡ç™»å½•

#### æ¥å£ä¿¡æ¯
- **è·¯å¾„**: `/user/user/login`
- **æ–¹æ³•**: `POST`
- **é‰´æƒ**: æ— éœ€é‰´æƒ

#### è¯·æ±‚å‚æ•°
```json
{
  "code": "0d3xoxll2ADkSg4zehll2B1EgP0xoxlF",
  "userInfo": ""
}
```

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| code | String | æ˜¯ | wx.login()è·å–çš„ä¸´æ—¶code |
| userInfo | String | å¦ | ç”¨æˆ·ä¿¡æ¯(é¢„ç•™å­—æ®µ) |

#### å“åº”ç¤ºä¾‹ - æˆåŠŸ
```json
{
    "code": 1,
    "msg": "success",
    "data": {
        "id": 1,
        "openid": "oAFRw1_WB_19isRUvrA9fy1b52OA",
        "token": "eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjI0ODY0NzAyNjQsInVzZXJJZCI6MX0.um4TfeljTzPTBBvL_a8ek0FnODLiDPFHdMN2GTNGn4A"
    }
}
```

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | Long | ç”¨æˆ·ID |
| openid | String | å¾®ä¿¡å”¯ä¸€æ ‡è¯† |
| token | String | JWTä»¤ç‰Œ(åç»­è¯·æ±‚éœ€æºå¸¦) |

#### å“åº”ç¤ºä¾‹ - å¤±è´¥
```json
{
    "code": 0,
    "msg": "å¾®ä¿¡ç™»å½•å¤±è´¥ï¼Œè¯·é‡è¯•",
    "data": null
}
```

#### æµç¨‹è¯´æ˜
1. å°ç¨‹åºè°ƒç”¨`wx.login()`è·å–ä¸´æ—¶code
2. åç«¯ä½¿ç”¨codeè°ƒç”¨å¾®ä¿¡APIè·å–openid
3. æ ¹æ®openidæŸ¥è¯¢ç”¨æˆ·ï¼Œä¸å­˜åœ¨åˆ™è‡ªåŠ¨æ³¨å†Œ
4. ç”ŸæˆJWTä»¤ç‰Œè¿”å›

#### å¤‡æ³¨
- codeåªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œ5åˆ†é’Ÿå†…æœ‰æ•ˆ
- æ–°ç”¨æˆ·è‡ªåŠ¨æ³¨å†Œï¼Œæ— éœ€é¢å¤–æ“ä½œ
- tokenæœ‰æ•ˆæœŸä¸º1å¹´
- éœ€åœ¨`application-dev.yml`ä¸­é…ç½®çœŸå®çš„appidå’Œsecret

---

### 2. æ‰«ç æŸ¥è¯¢å•†å“ â­

#### æ¥å£ä¿¡æ¯
- **è·¯å¾„**: `/user/product/scan/{barcode}`
- **æ–¹æ³•**: `GET`
- **é‰´æƒ**: éœ€è¦ç”¨æˆ·ç«¯Token

#### è¯·æ±‚å¤´
```
authentication: eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjI0ODY0MTE3NzcsInVzZXJJZCI6MX0.2tS3LxMP_4geiU33bxfBUiRi6C_qb_z_bd87U9cAabU
```

#### è¯·æ±‚å‚æ•°
```
GET /user/product/scan/69200000001
```

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| barcode | String | æ˜¯ | å•†å“æ¡å½¢ç (è·¯å¾„å‚æ•°) |

#### å“åº”ç¤ºä¾‹ - å®‰å…¨å•†å“
```json
{
    "code": 1,
    "msg": "success",
    "data": {
        "id": 2,
        "barcode": "69200000002",
        "name": "æ— ç³–ä¹Œé¾™èŒ¶",
        "image": null,
        "updateTime": "2025-12-18 15:04:07",
        "ingredientList": "[\"æ°´\",\"ä¹Œé¾™èŒ¶å¶\",\"ç»´ç”Ÿç´ C\"]",
        "safetyStatus": "SAFE",
        "riskMsg": null,
        "riskLevel": 0
    }
}

```

#### å“åº”ç¤ºä¾‹ - é£é™©å•†å“
```json
{
    "code": 1,
    "msg": "success",
    "data": {
        "id": 1,
        "barcode": "69200000001",
        "name": "æŸå“ç‰Œå¤¹å¿ƒé¥¼å¹²",
        "image": null,
        "updateTime": "2025-12-18 15:04:07",
        "ingredientList": "[\"å°éº¦ç²‰\",\"ç™½ç ‚ç³–\",\"ä»£å¯å¯è„‚\",\"èµ·é…¥æ²¹\"]",
        "safetyStatus": "RISK",
        "riskMsg": "å«ä»£å¯å¯è„‚(åå¼è„‚è‚ªé…¸)",
        "riskLevel": 1
    }
}
```

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | Long | å•†å“ID |
| barcode | String | æ¡å½¢ç  |
| name | String | å•†å“åç§° |
| image | String | å•†å“å›¾ç‰‡URL |
| ingredientList | Array[String] | é…æ–™åˆ—è¡¨(æ•°ç»„) |
| safetyStatus | String | å®‰å…¨çŠ¶æ€(SAFE/RISK/DANGER) |
| riskMsg | String | é£é™©æç¤º(æœ‰é£é™©æ—¶æ˜¾ç¤º) |
| riskLevel | Integer | é£é™©ç­‰çº§(0/1/2) |
| updateTime | String | æ›´æ–°æ—¶é—´ |

#### å“åº”ç¤ºä¾‹ - å•†å“æœªæ”¶å½•
```json
{
    "code": 0,
    "msg": "è¯¥å•†å“æœªæ”¶å½•ï¼Œæ•¬è¯·æœŸå¾…ï¼",
    "data": null
}
```

#### safetyStatusè¯´æ˜
- **SAFE**: å®‰å…¨å•†å“ï¼Œå‰ç«¯æ˜¾ç¤ºğŸŸ¢ç»¿è‰²å¡ç‰‡
- **RISK**: ä¸­é£é™©å•†å“ï¼Œå‰ç«¯æ˜¾ç¤ºğŸŸ¡é»„è‰²æˆ–ğŸ”´çº¢è‰²å¡ç‰‡
- **DANGER**: é«˜é£é™©å•†å“ï¼Œå‰ç«¯æ˜¾ç¤ºğŸ”´çº¢è‰²è­¦ç¤º(é¢„ç•™)

#### å¤‡æ³¨
- æ‰«ç æˆåŠŸåè‡ªåŠ¨è®°å½•æ‰«æå†å²
- `jsonIngredients`å­—æ®µæ‹†åˆ†ä¸º`ingredientList`æ•°ç»„
- `riskLevel`è½¬æ¢ä¸ºå‰ç«¯å¯ç”¨çš„`safetyStatus`
- å†å²è®°å½•æ’å…¥é‡‡ç”¨å¼‚æ­¥æ–¹å¼ï¼Œå¤±è´¥ä¸å½±å“ä¸»æµç¨‹

---

### 3. å…³é”®è¯æœç´¢

#### æ¥å£ä¿¡æ¯
- **è·¯å¾„**: `/user/product/list`
- **æ–¹æ³•**: `GET`
- **é‰´æƒ**: éœ€è¦ç”¨æˆ·ç«¯Token

#### è¯·æ±‚å¤´
```
authentication: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

#### è¯·æ±‚å‚æ•°
```
GET /user/product/list?name=
```

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| name | String | æ˜¯ | å•†å“åç§°å…³é”®è¯ |

#### å“åº”ç¤ºä¾‹ - æˆåŠŸ
```json
{
    "code": 1,
    "msg": "success",
    "data": [
        {
            "id": 1,
            "barcode": "69200000001",
            "name": "æŸå“ç‰Œå¤¹å¿ƒé¥¼å¹²",
            "image": null,
            "updateTime": "2025-12-18 15:04:07",
            "ingredientList": "[\"å°éº¦ç²‰\",\"ç™½ç ‚ç³–\",\"ä»£å¯å¯è„‚\",\"èµ·é…¥æ²¹\"]",
            "safetyStatus": "RISK",
            "riskMsg": "å«ä»£å¯å¯è„‚(åå¼è„‚è‚ªé…¸)",
            "riskLevel": 1
        },
        {
            "id": 2,
            "barcode": "69200000002",
            "name": "æ— ç³–ä¹Œé¾™èŒ¶",
            "image": null,
            "updateTime": "2025-12-18 15:04:07",
            "ingredientList": "[\"æ°´\",\"ä¹Œé¾™èŒ¶å¶\",\"ç»´ç”Ÿç´ C\"]",
            "safetyStatus": "SAFE",
            "riskMsg": null,
            "riskLevel": 0
        }
    ]
}
```

#### å“åº”ç¤ºä¾‹ - æ— ç»“æœ
```json
{
    "code": 1,
    "msg": "success",
    "data": []
}
```

#### å¤‡æ³¨
- æŒ‰å•†å“åç§°æ¨¡ç³Šæœç´¢: `name LIKE '%è–¯ç‰‡%'`
- æœ€å¤šè¿”å›20æ¡ç»“æœ
- ç»“æœæŒ‰`updateTime`é™åºæ’åˆ—
- ç”¨äºæ‰«ç å¤±è´¥æ—¶çš„å…œåº•æ–¹æ¡ˆ

---

### 4. æŸ¥è¯¢æ‰«æå†å²

#### æ¥å£ä¿¡æ¯
- **è·¯å¾„**: `/user/history/list`
- **æ–¹æ³•**: `GET`
- **é‰´æƒ**: éœ€è¦ç”¨æˆ·ç«¯Token

#### è¯·æ±‚å¤´
```
authentication: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

#### è¯·æ±‚å‚æ•°
æ— 

#### å“åº”ç¤ºä¾‹ - æˆåŠŸ
```json
{
    "code": 1,
    "msg": "success",
    "data": [
        {
            "id": 1,
            "barcode": "69200000001",
            "name": "æŸå“ç‰Œå¤¹å¿ƒé¥¼å¹²",
            "image": null,
            "updateTime": "2025-12-18 15:04:07",
            "ingredientList": "[\"å°éº¦ç²‰\",\"ç™½ç ‚ç³–\",\"ä»£å¯å¯è„‚\",\"èµ·é…¥æ²¹\"]",
            "safetyStatus": "RISK",
            "riskMsg": "å«ä»£å¯å¯è„‚(åå¼è„‚è‚ªé…¸)",
            "riskLevel": 1
        },
        {
            "id": 2,
            "barcode": "69200000002",
            "name": "æ— ç³–ä¹Œé¾™èŒ¶",
            "image": null,
            "updateTime": "2025-12-18 15:04:07",
            "ingredientList": "[\"æ°´\",\"ä¹Œé¾™èŒ¶å¶\",\"ç»´ç”Ÿç´ C\"]",
            "safetyStatus": "SAFE",
            "riskMsg": null,
            "riskLevel": 0
        }
    ]
}
```

#### å“åº”ç¤ºä¾‹ - æ— å†å²
```json
{
  "code": 1,
  "msg": "success",
  "data": []
}
```

#### å¤‡æ³¨
- è¿”å›å½“å‰ç”¨æˆ·æœ€è¿‘50æ¡æ‰«æè®°å½•
- æŒ‰æ‰«ææ—¶é—´å€’åºæ’åˆ—(æœ€æ–°çš„åœ¨å‰)
- è¿”å›æ ¼å¼åŒæ‰«ç æŸ¥è¯¢æ¥å£
- è‹¥å•†å“å·²è¢«åˆ é™¤ï¼Œè¯¥æ¡å†å²è®°å½•ä¸æ˜¾ç¤º

---

### 5. æ¸…ç©ºæ‰«æå†å²

#### æ¥å£ä¿¡æ¯
- **è·¯å¾„**: `/user/history/clear`
- **æ–¹æ³•**: `DELETE`
- **é‰´æƒ**: éœ€è¦ç”¨æˆ·ç«¯Token

#### è¯·æ±‚å¤´
```
authentication: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

#### è¯·æ±‚å‚æ•°
æ— 

#### å“åº”ç¤ºä¾‹ - æˆåŠŸ
```json
{
  "code": 1,
  "msg": "success",
  "data": "æ¸…ç©ºæˆåŠŸ"
}
```

#### å¤‡æ³¨
- åˆ é™¤å½“å‰ç”¨æˆ·çš„æ‰€æœ‰æ‰«æå†å²
- ç‰©ç†åˆ é™¤(ç›´æ¥ä»æ•°æ®åº“åˆ é™¤è®°å½•)
- ä¸å¯æ¢å¤ï¼Œå‰ç«¯éœ€äºŒæ¬¡ç¡®è®¤

---

## ğŸš¨ é”™è¯¯ç è¯´æ˜

### é€šç”¨é”™è¯¯ç 
| code | è¯´æ˜ |
|------|------|
| 1 | æˆåŠŸ |
| 0 | å¤±è´¥(å…·ä½“åŸå› è§msg) |

### å¸¸è§é”™è¯¯ä¿¡æ¯
| msg | è¯´æ˜ | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| è´¦å·ä¸å­˜åœ¨ | ç”¨æˆ·åé”™è¯¯ | æ£€æŸ¥ç”¨æˆ·å |
| å¯†ç é”™è¯¯ | å¯†ç ä¸æ­£ç¡® | æ£€æŸ¥å¯†ç  |
| è´¦å·å·²é”å®š | å‘˜å·¥è´¦å·è¢«ç¦ç”¨ | è”ç³»ç®¡ç†å‘˜ |
| xxx å·²å­˜åœ¨ | æ¡å½¢ç /ç”¨æˆ·åé‡å¤ | ä½¿ç”¨å”¯ä¸€å€¼ |
| å•†å“ä¸å­˜åœ¨ | å•†å“IDä¸å­˜åœ¨ | æ£€æŸ¥å•†å“ID |
| è¯¥å•†å“æœªæ”¶å½•ï¼Œæ•¬è¯·æœŸå¾…ï¼ | æ¡å½¢ç æœªå½•å…¥ | ä½¿ç”¨å…³é”®è¯æœç´¢ |
| å¾®ä¿¡ç™»å½•å¤±è´¥ï¼Œè¯·é‡è¯• | å¾®ä¿¡APIè°ƒç”¨å¤±è´¥ | é‡æ–°è°ƒç”¨wx.login() |
| æ–‡ä»¶ä¸Šä¼ å¤±è´¥ | OSSä¸Šä¼ å¤±è´¥ | æ£€æŸ¥OSSé…ç½® |
| ç³»ç»Ÿç¹å¿™ï¼Œè¯·ç¨åé‡è¯• | æœªçŸ¥ç³»ç»Ÿå¼‚å¸¸ | è”ç³»æŠ€æœ¯æ”¯æŒ |

---

## ğŸ“Š æ¥å£æµ‹è¯•ç”¨ä¾‹

### Apifoxç¯å¢ƒå˜é‡
```json
{
  "baseUrl": "http://localhost:8080",
  "adminToken": "",
  "userToken": ""
}
```

### æµ‹è¯•æµç¨‹
```
1. ç®¡ç†ç«¯ç™»å½•
   POST {{baseUrl}}/admin/employee/login
   â†’ ä¿å­˜è¿”å›çš„tokenåˆ°adminToken

2. å•†å“æ–°å¢
   POST {{baseUrl}}/admin/product
   Header: token={{adminToken}}
   â†’ å½•å…¥æµ‹è¯•å•†å“(è‡³å°‘10æ¡)

3. ç”¨æˆ·ç«¯ç™»å½•
   POST {{baseUrl}}/user/user/login
   â†’ ä¿å­˜è¿”å›çš„tokenåˆ°userToken

4. æ‰«ç æŸ¥è¯¢(å­˜åœ¨)
   GET {{baseUrl}}/user/product/scan/6901028075831
   Header: authentication={{userToken}}
   â†’ éªŒè¯è¿”å›æ•°æ®æ ¼å¼

5. æ‰«ç æŸ¥è¯¢(ä¸å­˜åœ¨)
   GET {{baseUrl}}/user/product/scan/999999999
   Header: authentication={{userToken}}
   â†’ éªŒè¯é”™è¯¯æç¤º

6. å…³é”®è¯æœç´¢
   GET {{baseUrl}}/user/product/list?name=ç‰›å¥¶
   Header: authentication={{userToken}}
   â†’ éªŒè¯æœç´¢ç»“æœ

7. æŸ¥è¯¢å†å²
   GET {{baseUrl}}/user/history/list
   Header: authentication={{userToken}}
   â†’ éªŒè¯å†å²è®°å½•

8. æ¸…ç©ºå†å²
   DELETE {{baseUrl}}/user/history/clear
   Header: authentication={{userToken}}
   â†’ éªŒè¯æ¸…ç©ºæˆåŠŸ
```


---

## ğŸ“ é™„å½•

### æ¥å£å˜æ›´è®°å½•
| ç‰ˆæœ¬ | æ—¥æœŸ | å˜æ›´å†…å®¹ |
|------|------|----------|
| V1.0 | 2025-12-22 | åˆå§‹ç‰ˆæœ¬ï¼Œå®Œæˆ11ä¸ªæ¥å£ |

### åç»­ç‰ˆæœ¬è§„åˆ’
- **V1.1**: æ–°å¢è¥å…»æˆåˆ†æ¥å£ã€æ”¶è—æ¥å£
- **V1.2**: æ–°å¢ç”¨æˆ·ç”»åƒæ¥å£ã€è¯„åˆ†æ¥å£
- **V2.0**: æ–°å¢OCRè¯†åˆ«æ¥å£ã€AIåˆ†ææ¥å£

---

**æ–‡æ¡£ç»´æŠ¤**: åç«¯å¼€å‘ç»„  
**æœ€åæ›´æ–°**: 2025-12-22  
**è”ç³»æ–¹å¼**: é¡¹ç›®ç»„å†…éƒ¨æ²Ÿé€š
